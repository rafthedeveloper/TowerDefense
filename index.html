<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tower Defense</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
  </head>
  <body>
    <section class="tower-defense group">
      <section class="td-splash" id="td-splash">
        <h1>SpaceWorms TD</h1>
        <h3>Instructions:</h3>

          <ul class="instructions-list">
            <li>The space worms are coming!</li>
            <li>Select a tile and click on it to build towers on it.</li>
            <li>Don't let the enemies reach the end of the path!</li>
            <li>If your lives run out, you lose!</li>

          </ul>
        <button id="start-game">play</button>
      </section>
      <canvas id="canvas"></canvas>

      <section id="game-ui" class="game-ui-container">
        <section class="game-ui">
          <h1>SpaceWorms TD</h1>
          <ul class="game-ui-list">
            <li>Wave: <span id="waves"></span></li>
            <li>Gold: <span id="gold"></span></li>
            <li>Lives left: <span id="lives">20</span></li>
          </ul>

          <span id="more-resources">You Need More Gold!</span>

          <section id="tower-options">
            <figure id="buy-lazer-tower">
              <small class="gold-cost">gold: 100</small>
              <img src="assets/images/lazerTowerIcon.png" alt="" />
              <p>Lazer Tower</p>
            </figure>
            <figure id="buy-bunker">
              <small class="gold-cost">gold: 100</small>
              <img src="assets/images/bunkerIcon.png" alt="" />
              <p>Bunker</p>
            </figure>
          </section>
        </section>
      </section>

      <section class="modal-container" id="paused">
        <section class="modal">
          <h2>Game Paused</h2>
          <button id="unpause-game">Unpause</button>
        </section>
      </section>

      <section class="modal-container" id="game-over">
        <section class="modal">
          <h2>Defeat</h2>
          <button id="restart-game">Restart</button>
        </section>
      </section>

      <section class="waves-modal" id="waves-modal">
        <h2>Wave: <span id="wave-number"></span></h2>
      </section>

    </section>
    <script type="application/javascript" src="lib/map.js"></script>
    <script type="application/javascript" src="lib/tile.js"></script>
    <script type="application/javascript" src="lib/tower.js"></script>
    <script type="application/javascript" src="lib/game.js"></script>
    <script type="application/javascript" src="lib/gameView.js"></script>
    <script type="application/javascript" src="lib/wave.js"></script>
    <script type="application/javascript" src="lib/enemy.js"></script>
    <script type="application/javascript" src="lib/dyingEnemy.js"></script>
    <script type="application/javascript" src="lib/tower.js"></script>
    <script type="application/javascript" src="lib/lazer.js"></script>
    <script type="application/javascript" src="lib/bullet.js"></script>

    <script type="application/javascript">
    document.getElementById("start-game").addEventListener("click", function(){
      document.getElementById("td-splash").style.display = 'none';
      document.getElementById("game-ui").style.display = 'block';
      var canvasEl = document.getElementsByTagName("canvas")[0];

         canvasEl.width = towerDefense.Game.DIM_X;
         canvasEl.height = towerDefense.Game.DIM_Y;

         var ctx = canvasEl.getContext("2d");
         this.towerDefense.projectiles = [];

         var game = this.towerDefense.game = new towerDefense.Game();
         new towerDefense.GameView(game, ctx).start();
    }.bind(this))

   </script>

  </body>
</html>
